# 향후 개발 계획 (Future Development Requirements)

## 1. REWORK 기능 (재작업)

### 목적
- 배합검사 후 NG 판정된 배합분말을 다시 배합할 수 있는 기능

### 요구사항
- **메뉴**: "🔄 REWORK" 추가 (사이드바)
- **기능**:
  - NG 배합분말 선택
  - 해당 배합분말을 원료로 사용하여 새로운 배합 진행
  - REWORK 이력 추적

### 검사구분 확장
- 기존: `incoming` (수입검사), `mixing` (배합검사)
- 추가: `rework` (재작업)

---

## 2. 배합일지 조회

### 목적
- 과거 배합 작업 이력을 조회하고 검토할 수 있는 기능
- 검사결과조회와 유사한 형태

### 화면 구성
- **조회 조건**:
  - 배합일자 범위 (From ~ To)
  - 배합분말명 (제품명)
  - 작업자
  - 배합 LOT 번호
  - 작업조건

- **조회 결과 테이블**:
  | 배합일자 | 배합분말명 | 배합 LOT | 작업자 | 총 중량 | 작업조건 | 상세 |
  |---------|-----------|---------|--------|---------|---------|------|
  | 2025-12-19 | 표준배합철분 | B20251219-001 | 최준호 | 5,000kg | 온도 25°C | [보기] |

- **상세보기 모달**:
  - 배합 기본 정보
  - **세부 배합투입중량 LIST**:
    | 분말명 | 검사구분 | 목표비율 | 목표중량 | 실투입중량 | 편차 | 판정 |
    |--------|---------|---------|---------|-----------|------|------|
    | 순철분말 | 수입검사 | 60% | 3,000kg | 3,001.2kg | +0.04% | ✓ |
    | 구리분말 | 수입검사 | 30% | 1,500kg | 1,499.8kg | -0.01% | ✓ |
    | 흑연분말 | 수입검사 | 10% | 500kg | 499.0kg | -0.20% | ✗ |
  - 작업조건 상세
  - 비고/메모

---

## 3. 작업조건 입력 기능

### 추가 위치
- **원재료 투입 화면** (Material Input)에 작업조건 입력 섹션 추가

### 입력 항목 (예시)
- 작업 온도 (°C)
- 작업 습도 (%)
- 믹서 회전수 (RPM)
- 배합 시간 (분)
- 비고/특이사항 (자유 입력)

### 저장 위치
- `blending_work` 테이블에 JSON 형태로 저장
- 또는 별도 `work_condition` 테이블 생성

---

## 4. 데이터베이스 스키마 변경 (예정)

### blending_work 테이블 확장
```sql
ALTER TABLE blending_work ADD COLUMN work_condition TEXT;  -- JSON 형태
ALTER TABLE blending_work ADD COLUMN remarks TEXT;  -- 비고
```

### work_condition JSON 구조 예시
```json
{
  "temperature": 25.5,
  "humidity": 45,
  "mixer_rpm": 120,
  "mixing_time_minutes": 15,
  "notes": "특이사항 없음"
}
```

---

## 5. 개발 우선순위

1. **Phase 2-1**: REWORK 메뉴 아이콘 추가 (현재)
2. **Phase 2-2**: 작업조건 입력 기능 추가
3. **Phase 2-3**: 배합일지 조회 화면 개발
4. **Phase 2-4**: REWORK 기능 전체 개발

---

## 참고사항

### 허용오차 기준
- 각 분말별 허용오차: **±0.05%** (고정값)
- 총 배합비율 합계: **100%** (필수)

### 검사구분 (powder_category)
- `incoming`: 수입검사 (외부 구매 원재료)
- `mixing`: 배합검사 (배합 생산된 중간재)
- `rework`: 재작업 (NG 판정 후 재배합) - 추가 예정

---

**작성일**: 2025-12-19
**작성자**: 시스템 관리자
